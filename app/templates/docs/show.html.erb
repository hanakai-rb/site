<h1>Doc: <%= doc.title %></h1>

<div data-testid="doc-versions">
  <% other_versions.each do |version| %>
    <a href="<%= doc.url_path(version) %>"><%= version %></a>
  <% end %>
</div>

<%= render "doc_pages/pages_nav", pages: doc.pages.nested %>

<h1>Page: <%= page.title %></h1>

<h2>TOC</h2>
<ol data-testid="page-toc">
  <% page.headings.each do |heading| %>
    <%# TODO: do something with heading.header_level %>
    <li>
      <a href="<%= heading.href %>">
        <%= heading.text %>
      </a>
    </li>
  <% end %>
</ol>

<div class="content">
  <%= page.content_html %>
</div>
