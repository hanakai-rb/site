<% content_for :title, "Learn" %>

<%= render_with_slots "doc_pages/main" do |main| %>
  <%= main.slot :content do %>
    <header class="mb-12">
      <h1 class="text-4xl font-extrabold mb-4">Guides</h1>

      <p class="text-lg text-gray-600">
        Learn how to use Hanami, Dry, and ROM with our comprehensive guides.
      </p>
    </header>

    <div class="space-y-16">
      <section id="hanami" class="theme-hanami-light">
        <div class="flex items-center gap-3 mb-6">
          <%= render "svgs/hanami_logo", width: 32, height: 32 %>

          <h2 class="text-3xl font-bold text-hanami-500">Hanami</h2>

          <div data-testid="hanami-versions">
            <%= render "doc_pages/version_select",
                      id: "hanami-version-select",
                      testid: nil,
                      version: hanami_version_links.keys.first,
                      version_links: hanami_version_links,
                      path_prefix: "/learn/hanami",
                      anchor: "left" %>
          </div>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16"
          data-testid="hanami-guides"
        >
          <% guides.fetch("hanami").each do |guide| %>
            <a
              href="<%= guide.url_path %>"
              class="
                block p-6 bg-white border border-gray-200 rounded-lg
                shadow-sm hover:shadow-md transition-shadow duration-200
                hover:border-hanami-500
              "
            >
              <h3 class="text-xl font-semibold mb-2 text-gray-900">
                <%= guide.title %>
              </h3>

              <div class="text-sm text-hanami-500 font-medium">
                View guide →
              </div>
            </a>
          <% end %>
        </div>
      </section>

      <section id="dry" class="theme-dry-light">
        <div class="flex items-center gap-3 mb-6">
          <%= render "svgs/dry_logo", width: 32, height: 32 %>

          <h2 class="text-3xl font-bold text-dry-500">Dry</h2>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16"
          data-testid="dry-guides"
        >
          <% guides.fetch("dry").each do |guide| %>
            <a
              href="<%= guide.url_path %>"
              class="
                block p-6 bg-white border border-gray-200 rounded-lg
                shadow-sm hover:shadow-md transition-shadow duration-200
                hover:border-dry-500
              "
            >
              <h3 class="text-xl font-semibold mb-2 text-gray-900">
                <%= guide.title %>
              </h3>

              <div class="text-sm text-dry-500 font-medium">
                View guide →
              </div>
            </a>
          <% end %>
        </div>
      </section>

      <section id="rom" class="theme-rom-light">
        <div class="flex items-center gap-3 mb-6">
          <%= render "svgs/rom_logo", width: 32, height: 32 %>

          <h2 class="text-3xl font-bold text-rom-500">ROM</h2>

          <div data-testid="rom-versions">
            <%= render "doc_pages/version_select",
                      id: "rom-version-select",
                      testid: nil,
                      version: rom_version_links.keys.first,
                      path_prefix: "/learn/rom",
                      version_links: rom_version_links,
                      anchor: "left" %>
          </div>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16"
          data-testid="rom-guides"
        >
          <% guides.fetch("rom").each do |guide| %>
            <a
              href="<%= guide.url_path %>"
              class="
                block p-6 bg-white border border-gray-200 rounded-lg
                shadow-sm hover:shadow-md transition-shadow duration-200
                hover:border-rom-500
              "
            >
              <h3 class="text-xl font-semibold mb-2 text-gray-900">
                <%= guide.title %>
              </h3>

              <div class="text-sm text-rom-500 font-medium">
                View guide →
              </div>
            </a>
          <% end %>
        </div>
      </section>
    </div>
  <% end %>
<% end %>
